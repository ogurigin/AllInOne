# Shader

## 首先说明下什么是GLSL
分为：

**片元着色器：`fragment.glsl`**

**顶点着色器： `vertex.glsl`**

`attribute`  是 `geomertry`的属性之一，可以通过 

```jsx
geometry.setAttribute('a+属性名', new THREE.BufferAttribute(1, 1)) 
```

方法给`attributes` 添加一个新的属性，然后再顶点着色器中，通过

```glsl
attribute float a+属性名 ;
```

的方法，获取带这个变量，并使用。或者直接获取原有的变量 ~~~~

```glsl
attribute vec3 position; 
```

但是在 片元中 无法直接获取 attribute属性，如果需要使用的话，可以在顶点着色器中定义 **限定变量Varyings** 并在main函数中 赋值

```glsl
varying float a+属性名1;
void main(){
	a+属性名1 = a+属性名;//这里赋值了 上述新定义的属性值
}
```

然后再在 片元着色器中 使用

```glsl
varying float a+属性名1;
```

### 接下来是在Three里面使用Shader
文档：[**The Book of Shaders**](https://thebookofshaders.com/?lan=ch)

着色器，使用`THREE`中的 **`ShaderMaterial`**  或者**`RawShaderMaterial`**代替原始的 **`meterial`**

基础使用方法：

```jsx
const material = new THREE.RawShaderMaterial({
      vertexShader:vertexShader,
      fragmentShader: fragmentShader,
      transparent: true
  });
```

`vertexShader`  和 `fragmentShader` 分别是两个导入的 `glsl` 的文件数据，其中 `vertexShader` 为顶点着色器。 `fragment` 为片状 着色器。
